(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{460:function(t,i,s){},498:function(t,i,s){"use strict";s(460)},517:function(t,i,s){"use strict";s.r(i);s(228);var e={name:"Canvas2",data:function(){return this.ctx=null,this.timer=null,this.isReset=!0,this.clipRegion={r:50,x:0,y:0},{isDraw:!1}},mounted:function(){document.documentElement.addEventListener("mouseup",this.canvasUp)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null,document.documentElement.removeEventListener("mouseup",this.canvasUp)},methods:{imgLoaded:function(){this.initBlurImg(),this.initCanvas()},canvasDown:function(){this.isDraw=!0,this.clipRegion.r=50},canvasMove:function(t){this.isDraw&&(this.clipRegion.x=t.offsetX,this.clipRegion.y=t.offsetY,this.draw())},canvasUp:function(){this.isDraw=!1},initBlurImg:function(){var t=this.$refs,i=t.blurImg,s=t.container,e=t.canvas;s.style.width=i.offsetWidth+"px",s.style.height="".concat(i.offsetHeight,"px"),e.width=i.offsetWidth,e.height=i.offsetHeight,this.ctx=e.getContext("2d")},initCanvas:function(){var t=this.$refs.canvas;this.clipRegion.r=50,this.clipRegion.x=Math.random()*(t.width-2*this.clipRegion.r)+this.clipRegion.r,this.clipRegion.y=Math.random()*(t.height-2*this.clipRegion.r)+this.clipRegion.r,this.timer&&clearInterval(this.timer),this.draw()},draw:function(){var t=this.$refs,i=t.blurImg,s=t.canvas;this.isReset&&(this.isReset=!1,this.ctx.clearRect(0,0,s.width,s.height)),this.ctx.save(),this.drawClip(),this.ctx.drawImage(i,0,0,s.width,s.height),this.ctx.restore()},drawClip:function(){this.ctx.beginPath(),this.ctx.arc(this.clipRegion.x,this.clipRegion.y,this.clipRegion.r,0,2*Math.PI),this.ctx.clip()},resetClick:function(){this.isReset=!0,this.initCanvas()},showClick:function(){var t=this,i=this.$refs.canvas,s=Math.max(i.width,i.height)+100;this.timer=setInterval((function(){console.log(123),t.clipRegion.r<=s?(t.clipRegion.r+=10,t.draw()):clearInterval(t.timer)}),16)}}},n=(s(498),s(40)),a=Object(n.a)(e,(function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"container",staticClass:"canvas2-view"},[s("img",{ref:"blurImg",staticClass:"blur-img",attrs:{src:"/images/example.jpg",alt:""},on:{load:t.imgLoaded}}),t._v(" "),s("canvas",{ref:"canvas",attrs:{id:"canvas"},on:{mousedown:t.canvasDown,mousemove:t.canvasMove}}),t._v(" "),s("div",{staticClass:"tool-bar"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isDraw,expression:"!isDraw"}],attrs:{type:"primary"},on:{click:t.resetClick}},[t._v("\n      重置\n    ")]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isDraw,expression:"!isDraw"}],attrs:{type:"primary"},on:{click:t.showClick}},[t._v("\n      展示\n    ")])],1)])}),[],!1,null,"dd45c624",null);i.default=a.exports}}]);